# Hetumind Web å¼€å‘è€…æŒ‡å—

æœ¬æ–‡æ¡£é¢å‘å¼€å‘äººå‘˜ï¼Œæä¾› Hetumind Web å¹³å°çš„æŠ€æœ¯æ¶æ„ã€å¼€å‘ç¯å¢ƒã€ä»£ç è§„èŒƒå’Œè´¡çŒ®æŒ‡å—ã€‚

## ğŸ“‹ ç›®å½•

- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [å¼€å‘ç¯å¢ƒ](#å¼€å‘ç¯å¢ƒ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æ ¸å¿ƒæ¦‚å¿µ](#æ ¸å¿ƒæ¦‚å¿µ)
- [ç»„ä»¶å¼€å‘](#ç»„ä»¶å¼€å‘)
- [çŠ¶æ€ç®¡ç†](#çŠ¶æ€ç®¡ç†)
- [API é›†æˆ](#api-é›†æˆ)
- [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [è´¡çŒ®æµç¨‹](#è´¡çŒ®æµç¨‹)

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

#### å‰ç«¯æŠ€æœ¯
- **React 19.1.1**: ç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript 5.9.2**: ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†
- **Ant Design 5.27.4**: ä¼ä¸šçº§ UI ç»„ä»¶åº“
- **React Flow 12.8.6**: å·¥ä½œæµå¯è§†åŒ–ç»„ä»¶
- **Zustand 5.0.2**: è½»é‡çº§çŠ¶æ€ç®¡ç†
- **React Query 5.62.3**: æ•°æ®è·å–å’Œç¼“å­˜
- **Recharts 3.2.1**: æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“
- **Vite 7.1.7**: ç°ä»£åŒ–çš„æ„å»ºå·¥å…·

#### å¼€å‘å·¥å…·
- **ESLint 9.36.0**: ä»£ç è´¨é‡æ£€æŸ¥
- **Prettier 3.3.3**: ä»£ç æ ¼å¼åŒ–
- **Jest 29.7.0**: å•å…ƒæµ‹è¯•æ¡†æ¶
- **Testing Library**: React ç»„ä»¶æµ‹è¯•
- **Husky**: Git hooks ç®¡ç†
- **lint-staged**: æš‚å­˜æ–‡ä»¶æ£€æŸ¥

### æ¶æ„æ¨¡å¼

#### åˆ†å±‚æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¡¨ç°å±‚ (Presentation Layer)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ é¡µé¢ç»„ä»¶    â”‚ ä¸šåŠ¡ç»„ä»¶    â”‚ é€šç”¨ç»„ä»¶    â”‚ å¸ƒå±€ç»„ä»¶    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ä¸šåŠ¡å±‚ (Business Layer)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å·¥ä½œæµé€»è¾‘   â”‚ AI é›†æˆ     â”‚ æ•°æ®å¤„ç†    â”‚ ç›‘æ§é€»è¾‘    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ•°æ®å±‚ (Data Layer)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ çŠ¶æ€ç®¡ç†     â”‚ API å®¢æˆ·ç«¯   â”‚ ç¼“å­˜ç®¡ç†     â”‚ æœ¬åœ°å­˜å‚¨    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ HTTP å®¢æˆ·ç«¯  â”‚ WebSocket   â”‚ å·¥å…·å‡½æ•°     â”‚ ç±»å‹å®šä¹‰    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è®¾è®¡æ¨¡å¼
- **ç»„åˆæ¨¡å¼**: ç»„ä»¶çš„çµæ´»ç»„åˆå’Œå¤ç”¨
- **è§‚å¯Ÿè€…æ¨¡å¼**: çŠ¶æ€å˜åŒ–çš„å“åº”å¼æ›´æ–°
- **ç­–ç•¥æ¨¡å¼**: ä¸åŒç®—æ³•å’Œç­–ç•¥çš„å¯æ’æ‹”è®¾è®¡
- **å·¥å‚æ¨¡å¼**: èŠ‚ç‚¹å’Œç»„ä»¶çš„ç»Ÿä¸€åˆ›å»º
- **é€‚é…å™¨æ¨¡å¼**: ä¸åŒæ¥å£çš„é€‚é…å’Œè½¬æ¢

### æ ¸å¿ƒæ¨¡å—

#### 1. å·¥ä½œæµå¼•æ“ (Workflow Engine)
```typescript
interface WorkflowEngine {
  // å·¥ä½œæµå®šä¹‰å’Œç®¡ç†
  WorkflowDefinition: class;
  WorkflowNode: interface;
  WorkflowEdge: interface;

  // æ‰§è¡Œå¼•æ“
  ExecutionEngine: class;
  NodeExecutor: interface;
  ExecutionContext: class;

  // çŠ¶æ€ç®¡ç†
  WorkflowStore: interface;
  ExecutionStore: interface;
}
```

#### 2. èŠ‚ç‚¹ç³»ç»Ÿ (Node System)
```typescript
interface NodeSystem {
  // èŠ‚ç‚¹ç»„ä»¶
  BaseNode: React.Component;
  TriggerNode: React.Component;
  AIAgentNode: React.Component;
  ConditionNode: React.Component;
  ActionNode: React.Component;

  // èŠ‚ç‚¹å·¥å‚
  NodeFactory: class;
  NodeRegistry: class;
  NodeRenderer: React.Component;

  // èŠ‚ç‚¹æ‰§è¡Œå™¨
  BaseNodeExecutor: class;
  NodeExecutorMap: Map<string, BaseNodeExecutor>;
}
```

#### 3. æ•°æ®å¤„ç† (Data Processing)
```typescript
interface DataProcessing {
  // æ•°æ®æ˜ å°„
  DataMappingCanvas: React.Component;
  MappingRule: interface;
  DataTransformer: class;

  // è¡¨è¾¾å¼å¼•æ“
  ExpressionEngine: class;
  ExpressionParser: class;
  ExpressionEvaluator: class;

  // æ•°æ®è¿æ¥å™¨
  DataConnector: React.Component;
  ConnectionManager: class;
}
```

## å¼€å‘ç¯å¢ƒ

### ç¯å¢ƒè¦æ±‚

#### å¿…éœ€è½¯ä»¶
- **Node.js**: >= 22.0.0
- **pnpm**: >= 8.0.0
- **Git**: >= 2.30.0
- **VS Code**: >= 1.85.0 (æ¨è)

#### å¯é€‰è½¯ä»¶
- **Chrome**: >= 90.0 (å¼€å‘è°ƒè¯•)
- **Docker**: >= 20.0 (å®¹å™¨åŒ–éƒ¨ç½²)
- **Postman**: >= 10.0 (API æµ‹è¯•)

### ç¯å¢ƒé…ç½®

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/fusion-data/hetumind.git
cd hetumind/hetumind-web
```

#### 2. å®‰è£…ä¾èµ–
```bash
# å®‰è£… pnpm (å¦‚æœæ²¡æœ‰å®‰è£…)
npm install -g pnpm

# å®‰è£…é¡¹ç›®ä¾èµ–
pnpm install
```

#### 3. ç¯å¢ƒé…ç½®
```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
vim .env
```

#### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨å¹¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
pnpm dev --open

# æŒ‡å®šç«¯å£å¯åŠ¨
pnpm dev --port 3000
```

### VS Code é…ç½®

#### æ¨èæ‰©å±•
```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-eslint",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense",
    "ms-vscode.vscode-jest"
  ]
}
```

#### å·¥ä½œåŒºè®¾ç½®
```json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "typescript.preferences.importModuleSpecifier": "relative",
  "emmet.includeLanguages": {
    "typescript": "html",
    "typescriptreact": "html"
  }
}
```

### å¼€å‘è„šæœ¬

#### package.json è„šæœ¬
```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint src --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "lint:fix": "eslint src --ext ts,tsx --fix",
    "type-check": "tsc --noEmit",
    "test": "node scripts/test-runner.js",
    "test:unit": "node scripts/test-runner.js unit",
    "test:integration": "node scripts/test-runner.js integration",
    "test:coverage": "jest --coverage",
    "test:watch": "jest --watch",
    "storybook": "storybook dev -p 6006",
    "build-storybook": "storybook build"
  }
}
```

## é¡¹ç›®ç»“æ„

### ç›®å½•ç»“æ„
```
hetumind-web/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ logo.png
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ components/         # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ workflow/       # å·¥ä½œæµç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ nodes/      # èŠ‚ç‚¹ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BaseNode/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TriggerNode/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AIAgentNode/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ execution/  # æ‰§è¡Œç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring/ # ç›‘æ§ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ optimization/ # æ€§èƒ½ä¼˜åŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ panel/      # é¢æ¿ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ toolbar/    # å·¥å…·æ ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ WorkflowEditor.tsx
â”‚   â”‚   â”œâ”€â”€ layout/         # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ui/             # UI ç»„ä»¶
â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”œâ”€â”€ WorkflowEditor/
â”‚   â”‚   â”œâ”€â”€ Monitoring/
â”‚   â”‚   â””â”€â”€ Settings/
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useWorkflow.ts
â”‚   â”‚   â”œâ”€â”€ useExecution.ts
â”‚   â”‚   â””â”€â”€ usePerformance.ts
â”‚   â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ workflowStore.ts
â”‚   â”‚   â”œâ”€â”€ executionStore.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ services/           # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ websocket/
â”‚   â”‚   â””â”€â”€ storage/
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ helpers.ts
â”‚   â”‚   â”œâ”€â”€ validators.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â”œâ”€â”€ types/              # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ workflow.ts
â”‚   â”‚   â”œâ”€â”€ execution.ts
â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”œâ”€â”€ assets/             # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ variables.css
â”‚   â”‚   â””â”€â”€ components.css
â”‚   â”œâ”€â”€ App.tsx             # åº”ç”¨æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx            # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ vite-env.d.ts       # Vite ç¯å¢ƒå£°æ˜
â”œâ”€â”€ docs/                   # æ–‡æ¡£
â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬
â”œâ”€â”€ tests/                  # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .eslintrc.js           # ESLint é…ç½®
â”œâ”€â”€ .prettierrc            # Prettier é…ç½®
â”œâ”€â”€ jest.config.js         # Jest é…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts         # Vite é…ç½®
â””â”€â”€ package.json           # é¡¹ç›®é…ç½®
```

### æ–‡ä»¶å‘½åè§„èŒƒ

#### ç»„ä»¶æ–‡ä»¶
```
ç»„ä»¶åï¼šPascalCase
æ–‡ä»¶åï¼šPascalCase.tsx
æ ·å¼æ–‡ä»¶ï¼šPascalCase.module.css
ç±»å‹æ–‡ä»¶ï¼štypes.ts
æµ‹è¯•æ–‡ä»¶ï¼šComponentName.test.tsx
```

#### å·¥å…·æ–‡ä»¶
```
å‡½æ•°åï¼šcamelCase
æ–‡ä»¶åï¼šcamelCase.ts
å¸¸é‡æ–‡ä»¶ï¼šconstants.ts
ç±»å‹æ–‡ä»¶ï¼štypes.ts
```

#### ç›®å½•å‘½å
```
ç›®å½•åï¼škebab-case
ç»„ä»¶ç›®å½•ï¼šPascalCase/
å·¥å…·ç›®å½•ï¼šcamelCase/
ç±»å‹ç›®å½•ï¼štypes/
```

## æ ¸å¿ƒæ¦‚å¿µ

### React ç»„ä»¶

#### å‡½æ•°ç»„ä»¶æ¨¡å¼
```typescript
interface ComponentProps {
  title: string;
  onSubmit?: (data: FormData) => void;
  readonly?: boolean;
}

export const Component: React.FC<ComponentProps> = ({
  title,
  onSubmit,
  readonly = false,
}) => {
  const [data, setData] = useState<FormData>(initialData);

  const handleSubmit = useCallback(() => {
    onSubmit?.(data);
  }, [data, onSubmit]);

  return (
    <div className={styles.container}>
      <h2>{title}</h2>
      {/* ç»„ä»¶å†…å®¹ */}
    </div>
  );
};

export default Component;
```

#### ç»„ä»¶ç»„åˆæ¨¡å¼
```typescript
// é«˜é˜¶ç»„ä»¶
const withWorkflowProvider = <P extends object>(
  Component: React.ComponentType<P>
) => {
  return (props: P) => (
    <WorkflowProvider>
      <Component {...props} />
    </WorkflowProvider>
  );
};

// ç»„åˆç»„ä»¶
const WorkflowEditor = () => {
  return (
    <WorkflowProvider>
      <WorkflowLayout>
        <WorkflowToolbar />
        <WorkflowCanvas />
        <PropertyPanel />
      </WorkflowLayout>
    </WorkflowProvider>
  );
};
```

### è‡ªå®šä¹‰ Hooks

#### æ•°æ®è·å– Hook
```typescript
interface UseWorkflowsOptions {
  enabled?: boolean;
  retry?: boolean;
  staleTime?: number;
}

export const useWorkflows = (options: UseWorkflowsOptions = {}) => {
  const {
    enabled = true,
    retry = true,
    staleTime = 5 * 60 * 1000, // 5 åˆ†é’Ÿ
  } = options;

  return useQuery({
    queryKey: ['workflows'],
    queryFn: workflowAPI.getWorkflows,
    enabled,
    retry,
    staleTime,
  });
};
```

#### çŠ¶æ€ç®¡ç† Hook
```typescript
interface UseWorkflowState {
  workflows: Workflow[];
  currentWorkflow: Workflow | null;
  isLoading: boolean;
  error: string | null;
}

export const useWorkflowState = (): UseWorkflowState => {
  const store = useWorkflowStore();

  const workflows = store.workflows;
  const currentWorkflow = store.currentWorkflow;
  const isLoading = store.isLoading;
  const error = store.error;

  return {
    workflows,
    currentWorkflow,
    isLoading,
    error,
  };
};
```

### ç±»å‹ç³»ç»Ÿ

#### åŸºç¡€ç±»å‹å®šä¹‰
```typescript
// å·¥ä½œæµç›¸å…³ç±»å‹
export interface Workflow {
  id: string;
  name: string;
  description?: string;
  status: WorkflowStatus;
  nodes: WorkflowNode[];
  edges: WorkflowEdge[];
  variables: Record<string, any>;
  settings: WorkflowSettings;
  createdAt: string;
  updatedAt: string;
  createdBy: string;
}

export type WorkflowStatus = 'draft' | 'active' | 'inactive' | 'archived';

// èŠ‚ç‚¹ç›¸å…³ç±»å‹
export interface WorkflowNode {
  id: string;
  type: string;
  position: Position;
  data: NodeData;
  inputs: string[];
  outputs: string[];
}

export interface Position {
  x: number;
  y: number;
}

export interface NodeData {
  label: string;
  description?: string;
  config: Record<string, any>;
  [key: string]: any;
}
```

#### é«˜çº§ç±»å‹
```typescript
// æ¡ä»¶ç±»å‹
type ConditionalType<T, U, V> = T extends U ? V : never;

// å·¥å…·ç±»å‹
type PartialByKeys<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>;

// æ·±åº¦åªè¯»ç±»å‹
type DeepReadonly<T> = {
  readonly [P in keyof T]: T[P] extends object ? DeepReadonly<T[P]> : T[P];
};

// è”åˆç±»å‹è½¬äº¤å‰ç±»å‹
type UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends (
  k: infer I
) ? void extends I
  ? never
  : I;
```

## ç»„ä»¶å¼€å‘

### ç»„ä»¶è®¾è®¡åŸåˆ™

#### 1. å•ä¸€èŒè´£
- æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- ä¿æŒç»„ä»¶çš„ç®€æ´å’Œå¯è¯»æ€§
- é¿å…ç»„ä»¶è¿‡äºå¤æ‚

#### 2. å¯å¤ç”¨æ€§
- è®¾è®¡é€šç”¨å’Œå¯é…ç½®çš„ç»„ä»¶
- ä½¿ç”¨ props è¿›è¡Œå‚æ•°åŒ–
- é¿å…ç¡¬ç¼–ç ä¸šåŠ¡é€»è¾‘

#### 3. å¯æµ‹è¯•æ€§
- ç»„ä»¶é€»è¾‘ä¸å±•ç¤ºåˆ†ç¦»
- ä½¿ç”¨ä¾èµ–æ³¨å…¥
- ç¼–å†™å•å…ƒæµ‹è¯•

#### 4. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ React.memo ä¼˜åŒ–æ¸²æŸ“
- åˆç†ä½¿ç”¨ useMemo å’Œ useCallback
- é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

### ç»„ä»¶æ¨¡æ¿

#### åŸºç¡€ç»„ä»¶æ¨¡æ¿
```typescript
// ComponentName/ComponentName.tsx
import React, { useState, useCallback, useEffect } from 'react';
import { Card, Typography } from 'antd';
import styles from './ComponentName.module.css';

interface ComponentNameProps {
  title: string;
  data: ComponentData;
  onChange?: (data: ComponentData) => void;
  readonly?: boolean;
}

interface ComponentData {
  id: string;
  name: string;
  value: any;
}

export const ComponentName: React.FC<ComponentNameProps> = ({
  title,
  data,
  onChange,
  readonly = false,
}) => {
  const [internalData, setInternalData] = useState<ComponentData>(data);
  const [loading, setLoading] = useState(false);

  // æ›´æ–°å†…éƒ¨çŠ¶æ€
  const handleChange = useCallback(
    (newData: Partial<ComponentData>) => {
      const updatedData = { ...internalData, ...newData };
      setInternalData(updatedData);
      onChange?.(updatedData);
    },
    [internalData, onChange]
  );

  // åˆå§‹åŒ–å’Œæ¸…ç†
  useEffect(() => {
    setInternalData(data);
  }, [data]);

  // æ¸²æŸ“ç»„ä»¶
  return (
    <Card className={styles.container}>
      <Typography.Title level={4}>{title}</Typography>
      <div className={styles.content}>
        {/* ç»„ä»¶å†…å®¹ */}
      </div>
    </Card>
  );
};

export default ComponentName;
```

#### ç»„ä»¶æ ·å¼
```css
/* ComponentName.module.css */
.container {
  padding: 16px;
  border-radius: 8px;
  background: #ffffff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.container:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
}

.content {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .container {
    padding: 12px;
  }
}
```

#### ç»„ä»¶æµ‹è¯•
```typescript
// ComponentName.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { ComponentName } from './ComponentName';

describe('ComponentName', () => {
  const defaultProps = {
    title: 'Test Component',
    data: { id: '1', name: 'Test', value: 'test' },
  };

  it('renders correctly', () => {
    render(<ComponentName {...defaultProps} />);
    expect(screen.getByText('Test Component')).toBeInTheDocument();
  });

  it('handles data changes', () => {
    const handleChange = jest.fn();
    render(
      <ComponentName {...defaultProps} onChange={handleChange} />
    );

    // æ¨¡æ‹Ÿæ•°æ®å˜æ›´
    const input = screen.getByLabelText('Name');
    fireEvent.change(input, { target: { value: 'Updated Name' } });

    expect(handleChange).toHaveBeenCalledWith(
      expect.objectContaining({ name: 'Updated Name' })
    );
  });
});
```

### èŠ‚ç‚¹å¼€å‘

#### èŠ‚ç‚¹åŸºç±»
```typescript
// BaseNode/BaseNode.tsx
import React from 'react';
import { Handle, Position } from '@xyflow/react';
import { BaseNodeProps } from '../types';

export const BaseNode: React.FC<BaseNodeProps> = ({
  id,
  data,
  selected,
  children,
}) => {
  return (
    <div className={`base-node ${selected ? 'selected' : ''}`}>
      <Handle type="target" position={Position.Left} />
      <div className="node-content">
        <div className="node-header">
          <span className="node-icon">{data.icon}</span>
          <span className="node-title">{data.label}</span>
        </div>
        <div className="node-body">{children}</div>
      </div>
      <Handle type="source" position={Position.Right} />
    </div>
  );
};
```

#### å…·ä½“èŠ‚ç‚¹å®ç°
```typescript
// TriggerNode/TriggerNode.tsx
import React from 'react';
import { BaseNode } from '../BaseNode';
import { TriggerNodeProps } from './types';

export const TriggerNode: React.FC<TriggerNodeProps> = ({
  id,
  data,
  selected,
}) => {
  const getIcon = () => {
    switch (data.triggerType) {
      case 'manual':
        return 'ğŸ‘†';
      case 'scheduled':
        return 'â°';
      case 'webhook':
        return 'ğŸ”Œ';
      default:
        return 'âš¡';
    }
  };

  return (
    <BaseNode id={id} data={{ ...data, icon: getIcon() }} selected={selected}>
      <div className="trigger-details">
        <span>ç±»å‹: {data.triggerType}</span>
        {data.triggerType === 'scheduled' && (
          <span>æ—¶é—´: {data.config.cronExpression}</span>
        )}
      </div>
    </BaseNode>
  );
};
```

#### èŠ‚ç‚¹æ³¨å†Œ
```typescript
// NodeRegistry/index.ts
import { NodeRegistry } from './NodeRegistry';
import { TriggerNode } from '../nodes/TriggerNode';
import { AIAgentNode } from '../nodes/AIAgentNode';

// åˆ›å»ºèŠ‚ç‚¹æ³¨å†Œè¡¨
const nodeRegistry = new NodeRegistry();

// æ³¨å†ŒèŠ‚ç‚¹ç±»å‹
nodeRegistry.register('trigger', TriggerNode, {
  category: 'trigger',
  displayName: 'è§¦å‘å™¨',
  description: 'å·¥ä½œæµè§¦å‘èŠ‚ç‚¹',
  icon: 'thunderbolt',
  configSchema: {
    type: 'object',
    properties: {
      triggerType: {
        type: 'string',
        enum: ['manual', 'scheduled', 'webhook'],
        default: 'manual',
      },
    },
  },
});

nodeRegistry.register('aiAgent', AIAgentNode, {
  category: 'ai',
  displayName: 'AI Agent',
  description: 'AI æ™ºèƒ½å¤„ç†èŠ‚ç‚¹',
  icon: 'robot',
});

export default nodeRegistry;
```

## çŠ¶æ€ç®¡ç†

### Zustand Store è®¾è®¡

#### å·¥ä½œæµçŠ¶æ€ç®¡ç†
```typescript
// store/workflowStore.ts
import { create } from 'zustand';
import { devtools, persist } from 'zustand/middleware';

interface WorkflowState {
  // çŠ¶æ€
  workflows: Workflow[];
  currentWorkflow: Workflow | null;
  selectedNodes: string[];
  isLoading: boolean;
  error: string | null;

  // åŠ¨ä½œ
  setWorkflows: (workflows: Workflow[]) => void;
  setCurrentWorkflow: (workflow: Workflow) => void;
  addNode: (node: WorkflowNode) => void;
  updateNode: (id: string, updates: Partial<WorkflowNode>) => void;
  deleteNode: (id: string) => void;
  selectNodes: (nodeIds: string[]) => void;
  clearSelection: () => void;

  // å‰¯ä½œç”¨
  reset: () => void;
}

export const useWorkflowStore = create<WorkflowState>()(
  devtools(
    persist(
      (set, get) => ({
        // åˆå§‹çŠ¶æ€
        workflows: [],
        currentWorkflow: null,
        selectedNodes: [],
        isLoading: false,
        error: null,

        // åŠ¨ä½œå®ç°
        setWorkflows: (workflows) => set({ workflows }),

        setCurrentWorkflow: (workflow) => set({ currentWorkflow: workflow }),

        addNode: (node) => set((state) => ({
          currentWorkflow: state.currentWorkflow
            ? {
                ...state.currentWorkflow,
                nodes: [...state.currentWorkflow.nodes, node],
              }
            : null,
        })),

        updateNode: (id, updates) => set((state) => ({
          currentWorkflow: state.currentWorkflow
            ? {
                ...state.currentWorkflow,
                nodes: state.currentWorkflow.nodes.map((node) =>
                  node.id === id ? { ...node, ...updates } : node
                ),
              }
            : null,
        })),

        deleteNode: (id) => set((state) => ({
          currentWorkflow: state.currentWorkflow
            ? {
                ...state.currentWorkflow,
                nodes: state.currentWorkflow.nodes.filter((node) => node.id !== id),
                edges: state.currentWorkflow.edges.filter(
                  (edge) => edge.source !== id && edge.target !== id
                ),
              }
            : null,
        })),

        selectNodes: (nodeIds) => set({ selectedNodes: nodeIds }),
        clearSelection: () => set({ selectedNodes: [] }),

        reset: () => ({
          workflows: [],
          currentWorkflow: null,
          selectedNodes: [],
          isLoading: false,
          error: null,
        }),
      }),
      {
        name: 'workflow-store',
        partialize: (state) => ({
          workflows: state.workflows,
          currentWorkflow: state.currentWorkflow,
        }),
      }
    )
  )
);
```

#### æ‰§è¡ŒçŠ¶æ€ç®¡ç†
```typescript
// store/executionStore.ts
import { create } from 'zustand';
import { Execution } from '../types';

interface ExecutionState {
  executions: Execution[];
  currentExecution: Execution | null;
  isMonitoring: boolean;

  // WebSocket è¿æ¥
  wsConnection: WebSocket | null;

  // åŠ¨ä½œ
  setExecutions: (executions: Execution[]) => void;
  setCurrentExecution: (execution: Execution) => void;
  updateExecution: (id: string, updates: Partial<Execution>) => void;
  startMonitoring: () => void;
  stopMonitoring: () => void;
}

export const useExecutionStore = create<ExecutionState>((set, get) => ({
  executions: [],
  currentExecution: null,
  isMonitoring: false,
  wsConnection: null,

  setExecutions: (executions) => set({ executions }),

  setCurrentExecution: (execution) => set({ currentExecution: execution }),

  updateExecution: (id, updates) => set((state) => ({
    executions: state.executions.map((execution) =>
      execution.executionId === id
        ? { ...execution, ...updates }
        : execution
    ),
    currentExecution:
      state.currentExecution?.executionId === id
        ? { ...state.currentExecution, ...updates }
        : state.currentExecution,
  })),

  startMonitoring: () => {
    const ws = new WebSocket('ws://localhost:3001/ws');

    ws.onmessage = (event) => {
      const data = JSON.parse(event.data);
      get().updateExecution(data.executionId, data);
    };

    set({ wsConnection: ws, isMonitoring: true });
  },

  stopMonitoring: () => {
    const { wsConnection } = get();
    if (wsConnection) {
      wsConnection.close();
    }
    set({ wsConnection: null, isMonitoring: false });
  },
}));
```

### Context API ä½¿ç”¨

#### React Context
```typescript
// context/WorkflowContext.tsx
import React, { createContext, useContext, ReactNode } from 'react';
import { useWorkflowStore } from '../store/workflowStore';

interface WorkflowContextValue {
  // çŠ¶æ€
  workflows: Workflow[];
  currentWorkflow: Workflow | null;
  selectedNodes: string[];

  // åŠ¨ä½œ
  setWorkflows: (workflows: Workflow[]) => void;
  setCurrentWorkflow: (workflow: Workflow) => void;
  addNode: (node: WorkflowNode) => void;
  updateNode: (id: string, updates: Partial<WorkflowNode>) => void;
  deleteNode: (id: string) => void;
}

const WorkflowContext = createContext<WorkflowContextValue | null>(null);

interface WorkflowProviderProps {
  children: ReactNode;
}

export const WorkflowProvider: React.FC<WorkflowProviderProps> = ({
  children,
}) => {
  const store = useWorkflowStore();

  const contextValue: WorkflowContextValue = {
    workflows: store.workflows,
    currentWorkflow: store.currentWorkflow,
    selectedNodes: store.selectedNodes,
    setWorkflows: store.setWorkflows,
    setCurrentWorkflow: store.setCurrentWorkflow,
    addNode: store.addNode,
    updateNode: store.updateNode,
    deleteNode: store.deleteNode,
  };

  return (
    <WorkflowContext.Provider value={contextValue}>
      {children}
    </WorkflowContext.Provider>
  );
};

export const useWorkflow = (): WorkflowContextValue => {
  const context = useContext(WorkflowContext);
  if (!context) {
    throw new Error('useWorkflow must be used within WorkflowProvider');
  }
  return context;
};
```

## API é›†æˆ

### HTTP å®¢æˆ·ç«¯

#### Axios é…ç½®
```typescript
// services/api/client.ts
import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';

class ApiClient {
  private client: AxiosInstance;

  constructor(baseURL: string) {
    this.client = axios.create({
      baseURL,
      timeout: 10000,
      headers: {
        'Content-Type': 'application/json',
      },
    });

    this.setupInterceptors();
  }

  private setupInterceptors() {
    // è¯·æ±‚æ‹¦æˆªå™¨
    this.client.interceptors.request.use(
      (config) => {
        const token = localStorage.getItem('token');
        if (token) {
          config.headers.Authorization = `Bearer ${token}`;
        }
        return config;
      },
      (error) => Promise.reject(error)
    );

    // å“åº”æ‹¦æˆªå™¨
    this.client.interceptors.response.use(
      (response) => response,
      (error) => {
        if (error.response?.status === 401) {
          // å¤„ç†è®¤è¯å¤±è´¥
          localStorage.removeItem('token');
          window.location.href = '/login';
        }
        return Promise.reject(error);
      }
    );
  }

  // GET è¯·æ±‚
  async get<T>(url: string, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.get(url, config);
    return response.data;
  }

  // POST è¯·æ±‚
  async post<T>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.post(url, data, config);
    return response.data;
  }

  // PUT è¯·æ±‚
  async put<T>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.put(url, data, config);
    return response.data;
  }

  // DELETE è¯·æ±‚
  async delete<T>(url: string, config?: AxiosRequestConfig): Promise<T> {
    const response = await this.client.delete(url, config);
    return response.data;
  }
}

export const apiClient = new ApiClient(process.env.REACT_APP_API_URL);
```

#### API æœåŠ¡
```typescript
// services/api/workflows.ts
import { apiClient } from './client';
import { Workflow, CreateWorkflowRequest, UpdateWorkflowRequest } from '../../types';

export const workflowAPI = {
  // è·å–å·¥ä½œæµåˆ—è¡¨
  getWorkflows: async (params?: {
    page?: number;
    limit?: number;
    search?: string;
    status?: string;
  }) => {
    const response = await apiClient.get<{
      workflows: Workflow[];
      pagination: {
        page: number;
        limit: number;
        total: number;
        totalPages: number;
      };
    }>('/workflows', { params });
    return response;
  },

  // è·å–å·¥ä½œæµè¯¦æƒ…
  getWorkflow: async (id: string) => {
    return apiClient.get<Workflow>(`/workflows/${id}`);
  },

  // åˆ›å»ºå·¥ä½œæµ
  createWorkflow: async (data: CreateWorkflowRequest) => {
    return apiClient.post<Workflow>('/workflows', data);
  },

  // æ›´æ–°å·¥ä½œæµ
  updateWorkflow: async (id: string, data: UpdateWorkflowRequest) => {
    return apiClient.put<Workflow>(`/workflows/${id}`, data);
  },

  // åˆ é™¤å·¥ä½œæµ
  deleteWorkflow: async (id: string) => {
    return apiClient.delete(`/workflows/${id}`);
  },

  // æ‰§è¡Œå·¥ä½œæµ
  executeWorkflow: async (id: string, data?: {
    variables?: Record<string, any>;
    options?: {
      timeout?: number;
      enableLogging?: boolean;
    };
  }) => {
    return apiClient.post<{
      executionId: string;
      status: string;
      startedAt: string;
    }>(`/workflows/${id}/execute`, data);
  },
};
```

### React Query é›†æˆ

#### æŸ¥è¯¢ Hooks
```typescript
// hooks/useWorkflows.ts
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';
import { workflowAPI } from '../services/api/workflows';
import { Workflow } from '../types';

export const useWorkflows = (params?: {
  page?: number;
  limit?: number;
  search?: string;
  status?: string;
}) => {
  return useQuery({
    queryKey: ['workflows', params],
    queryFn: () => workflowAPI.getWorkflows(params),
    staleTime: 5 * 60 * 1000, // 5 åˆ†é’Ÿ
    cacheTime: 10 * 60 * 1000, // 10 åˆ†é’Ÿ
  });
};

export const useWorkflow = (id: string) => {
  return useQuery({
    queryKey: ['workflow', id],
    queryFn: () => workflowAPI.getWorkflow(id),
    enabled: !!id,
  });
};

export const useCreateWorkflow = () => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: workflowAPI.createWorkflow,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['workflows'] });
    },
  });
};

export const useUpdateWorkflow = () => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: ({ id, data }: { id: string; data: any }) =>
      workflowAPI.updateWorkflow(id, data),
    onSuccess: (_, variables) => {
      queryClient.invalidateQueries({ queryKey: ['workflows'] });
      queryClient.invalidateQueries({ queryKey: ['workflow', variables.id] });
    },
  });
};

export const useDeleteWorkflow = () => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: workflowAPI.deleteWorkflow,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['workflows'] });
    },
  });
};
```

### WebSocket é›†æˆ

#### WebSocket Hook
```typescript
// hooks/useWebSocket.ts
import { useEffect, useRef, useState } from 'react';

interface WebSocketHookOptions {
  url: string;
  onMessage?: (data: any) => void;
  onOpen?: () => void;
  onClose?: () => void;
  onError?: (error: Event) => void;
  reconnectAttempts?: number;
  reconnectInterval?: number;
}

export const useWebSocket = ({
  url,
  onMessage,
  onOpen,
  onClose,
  onError,
  reconnectAttempts = 3,
  reconnectInterval = 1000,
}: WebSocketHookOptions) => {
  const [isConnected, setIsConnected] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const wsRef = useRef<WebSocket | null>(null);
  const reconnectCountRef = useRef(0);

  const connect = () => {
    try {
      const ws = new WebSocket(url);
      wsRef.current = ws;

      ws.onopen = () => {
        setIsConnected(true);
        setError(null);
        reconnectCountRef.current = 0;
        onOpen?.();
      };

      ws.onmessage = (event) => {
        try {
          const data = JSON.parse(event.data);
          onMessage?.(data);
        } catch (err) {
          console.error('WebSocket message parse error:', err);
        }
      };

      ws.onclose = () => {
        setIsConnected(false);
        onClose?.();

        // è‡ªåŠ¨é‡è¿
        if (reconnectCountRef.current < reconnectAttempts) {
          setTimeout(() => {
            reconnectCountRef.current++;
            connect();
          }, reconnectInterval);
        }
      };

      ws.onerror = (event) => {
        setError('WebSocket connection error');
        onError?.(event);
      };
    } catch (err) {
      setError('Failed to create WebSocket connection');
      onError?.(err as Event);
    }
  };

  useEffect(() => {
    connect();

    return () => {
      if (wsRef.current) {
        wsRef.current.close();
      }
    };
  }, [url]);

  const sendMessage = (message: any) => {
    if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {
      wsRef.current.send(JSON.stringify(message));
    }
  };

  return {
    isConnected,
    error,
    sendMessage,
  };
};
```

## æµ‹è¯•æŒ‡å—

### æµ‹è¯•ç­–ç•¥

#### 1. å•å…ƒæµ‹è¯•
- **ç»„ä»¶æµ‹è¯•**: æµ‹è¯•ç»„ä»¶çš„æ¸²æŸ“å’Œäº¤äº’
- **Hook æµ‹è¯•**: æµ‹è¯•è‡ªå®šä¹‰ Hook çš„é€»è¾‘
- **å·¥å…·å‡½æ•°æµ‹è¯•**: æµ‹è¯•çº¯å‡½æ•°çš„æ­£ç¡®æ€§
- **è¦†ç›–ç‡è¦æ±‚**: 80% ä»¥ä¸Š

#### 2. é›†æˆæµ‹è¯•
- **ç»„ä»¶é›†æˆ**: æµ‹è¯•ç»„ä»¶é—´çš„åä½œ
- **API é›†æˆ**: æµ‹è¯• API è°ƒç”¨å’Œæ•°æ®å¤„ç†
- **çŠ¶æ€ç®¡ç†**: æµ‹è¯•çŠ¶æ€ç®¡ç†é€»è¾‘
- **å·¥ä½œæµé›†æˆ**: æµ‹è¯•å®Œæ•´çš„å·¥ä½œæµæ‰§è¡Œ

#### 3. ç«¯åˆ°ç«¯æµ‹è¯•
- **ç”¨æˆ·æµç¨‹**: æµ‹è¯•å®Œæ•´çš„ç”¨æˆ·æ“ä½œæµç¨‹
- **è·¨æµè§ˆå™¨**: æµ‹è¯•ä¸åŒæµè§ˆå™¨çš„å…¼å®¹æ€§
- **æ€§èƒ½æµ‹è¯•**: æµ‹è¯•åº”ç”¨çš„æ€§èƒ½è¡¨ç°
- **å¯è®¿é—®æ€§**: æµ‹è¯•æ— éšœç¢è®¿é—®

### æµ‹è¯•å·¥å…·

#### Jest é…ç½®
```javascript
// jest.config.js
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: ['<rootDir>/src/setupTests.ts'],
  moduleNameMapping: {
    '^@/(.*)$': '<rootDir>/src/$1',
  },
  collectCoverageFrom: [
    'src/**/*.{ts,tsx}',
    '!src/**/*.d.ts',
    '!src/**/*.stories.tsx',
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};
```

#### Testing Library é…ç½®
```typescript
// src/setupTests.ts
import '@testing-library/jest-dom';
import { configure } from '@testing-library/react';

// å…¨å±€é…ç½®
configure({ testIdAttribute: 'data-testid' });

// Mock IntersectionObserver
global.IntersectionObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn(),
}));

// Mock ResizeObserver
global.ResizeObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn(),
}));
```

### æµ‹è¯•ç¤ºä¾‹

#### ç»„ä»¶æµ‹è¯•
```typescript
// components/__tests__/WorkflowCanvas.test.tsx
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { WorkflowCanvas } from '../WorkflowCanvas';

describe('WorkflowCanvas', () => {
  const defaultProps = {
    nodes: [],
    edges: [],
    onNodesChange: jest.fn(),
    onEdgesChange: jest.fn(),
    onConnect: jest.fn(),
  };

  beforeEach(() => {
    jest.clearAllMocks();
  });

  it('renders workflow canvas', () => {
    render(<WorkflowCanvas {...defaultProps} />);

    expect(screen.getByTestId('workflow-canvas')).toBeInTheDocument();
    expect(screen.getByTestId('react-flow')).toBeInTheDocument();
  });

  it('adds node when add button clicked', async () => {
    const onNodesChange = jest.fn();
    render(
      <WorkflowCanvas {...defaultProps} onNodesChange={onNodesChange} />
    );

    const addButton = screen.getByTestId('add-node');
    await userEvent.click(addButton);

    expect(onNodesChange).toHaveBeenCalledWith(
      expect.arrayContaining([
        expect.objectContaining({
          type: 'add',
        }),
      ])
    );
  });

  it('handles node selection', async () => {
    const mockNode = {
      id: 'node-1',
      type: 'trigger',
      position: { x: 100, y: 100 },
      data: { label: 'Test Node' },
    };

    render(
      <WorkflowCanvas
        {...defaultProps}
        nodes={[mockNode]}
      />
    );

    const nodeElement = screen.getByTestId('node-node-1');
    await userEvent.click(nodeElement);

    expect(nodeElement).toHaveClass('selected');
  });
});
```

#### Hook æµ‹è¯•
```typescript
// hooks/__tests__/useWorkflow.test.tsx
import { renderHook, act } from '@testing-library/react';
import { useWorkflow } from '../useWorkflow';
import { WorkflowProvider } from '../../context/WorkflowContext';

// Mock store
jest.mock('../../store/workflowStore');

const mockStore = {
  workflows: [],
  currentWorkflow: null,
  selectedNodes: [],
  setWorkflows: jest.fn(),
  setCurrentWorkflow: jest.fn(),
  addNode: jest.fn(),
  updateNode: jest.fn(),
  deleteNode: jest.fn(),
};

jest.mock('../../store/workflowStore', () => ({
  useWorkflowStore: () => mockStore,
}));

describe('useWorkflow', () => {
  const wrapper = ({ children }: { children: React.ReactNode }) => (
    <WorkflowProvider>{children}</WorkflowProvider>
  );

  it('returns workflow state', () => {
    const { result } = renderHook(() => useWorkflow(), { wrapper });

    expect(result.current.workflows).toEqual([]);
    expect(result.current.currentWorkflow).toBeNull();
    expect(result.current.selectedNodes).toEqual([]);
  });

  it('calls setWorkflows when calling setWorkflows', () => {
    const { result } = renderHook(() => useWorkflow(), { wrapper });

    const mockWorkflows = [
      { id: '1', name: 'Workflow 1' },
      { id: '2', name: 'Workflow 2' },
    ];

    act(() => {
      result.current.setWorkflows(mockWorkflows);
    });

    expect(mockStore.setWorkflows).toHaveBeenCalledWith(mockWorkflows);
  });
});
```

#### é›†æˆæµ‹è¯•
```typescript
// __tests__/integration/WorkflowExecution.test.tsx
import { render, screen, waitFor } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { WorkflowEditor } from '../WorkflowEditor';
import { mockApi } from '../__mocks__/api';

// Mock API
jest.mock('../services/api', () => mockApi);

describe('Workflow Execution Integration', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  it('executes complete workflow successfully', async () => {
    render(<WorkflowEditor />);

    // åˆ›å»ºå·¥ä½œæµ
    const addNodeButton = screen.getByTestId('add-node');
    await userEvent.click(addNodeButton);

    // é…ç½®èŠ‚ç‚¹
    const nodeConfig = screen.getByTestId('node-config');
    await userEvent.type(nodeConfig, 'Test Configuration');

    // æ‰§è¡Œå·¥ä½œæµ
    const executeButton = screen.getByTestId('execute-workflow');
    await userEvent.click(executeButton);

    // éªŒè¯æ‰§è¡Œç»“æœ
    await waitFor(() => {
      expect(screen.getByText('æ‰§è¡ŒæˆåŠŸ')).toBeInTheDocument();
    });

    // éªŒè¯ API è°ƒç”¨
    expect(mockApi.executeWorkflow).toHaveBeenCalled();
  });

  it('handles execution errors gracefully', async () => {
    // Mock API é”™è¯¯
    mockApi.executeWorkflow.mockRejectedValueOnce(new Error('Execution failed'));

    render(<WorkflowEditor />);

    // æ‰§è¡Œå·¥ä½œæµ
    const executeButton = screen.getByTestId('execute-workflow');
    await userEvent.click(executeButton);

    // éªŒè¯é”™è¯¯å¤„ç†
    await waitFor(() => {
      expect(screen.getByText('æ‰§è¡Œå¤±è´¥')).toBeInTheDocument();
    });
  });
});
```

## æ€§èƒ½ä¼˜åŒ–

### React æ€§èƒ½ä¼˜åŒ–

#### 1. ç»„ä»¶ä¼˜åŒ–
```typescript
// ä½¿ç”¨ React.memo é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
export const OptimizedComponent = React.memo<ComponentProps>(
  ({ data, onUpdate }) => {
    // ç»„ä»¶é€»è¾‘
    return <div>{data.value}</div>;
  },
  (prevProps, nextProps) => {
    // è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°
    return prevProps.data.id === nextProps.data.id &&
           prevProps.data.value === nextProps.data.value;
  }
);

// ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ
const ExpensiveComponent = ({ items }: { items: Item[] }) => {
  const expensiveValue = useMemo(() => {
    return items.reduce((sum, item) => sum + item.value, 0);
  }, [items]);

  return <div>Total: {expensiveValue}</div>;
};

// ä½¿ç”¨ useCallback ç¼“å­˜å‡½æ•°
const ComponentWithCallback = ({ onSubmit }: Props) => {
  const [value, setValue] = useState('');

  const handleSubmit = useCallback(() => {
    onSubmit(value);
  }, [value, onSubmit]);

  return (
    <div>
      <input value={value} onChange={(e) => setValue(e.target.value)} />
      <button onClick={handleSubmit}>Submit</button>
    </div>
  );
};
```

#### 2. æ•°æ®è·å–ä¼˜åŒ–
```typescript
// ä½¿ç”¨ React Query ä¼˜åŒ–æ•°æ®è·å–
const useWorkflows = () => {
  return useQuery({
    queryKey: ['workflows'],
    queryFn: fetchWorkflows,
    staleTime: 5 * 60 * 1000, // 5 åˆ†é’Ÿç¼“å­˜
    cacheTime: 10 * 60 * 1000, // 10 åˆ†é’Ÿå­˜å‚¨
    refetchOnWindowFocus: false, // çª—å£èšç„¦æ—¶ä¸é‡æ–°è·å–
    refetchOnReconnect: true, // é‡æ–°è¿æ¥æ—¶é‡æ–°è·å–
  });
};

// ä½¿ç”¨åˆ†é¡µåŠ è½½å¤§æ•°æ®é›†
const useWorkflowsPaginated = () => {
  const [page, setPage] = useState(1);
  const [hasMore, setHasMore] = useState(true);

  const {
    data,
    isLoading,
    isFetching,
    fetchNextPage,
  } = useInfiniteQuery({
    queryKey: ['workflows', 'paginated'],
    queryFn: ({ pageParam = 1 }) => fetchWorkflows({ page: pageParam }),
    getNextPageParam: (lastPage, allPages) => {
      if (lastPage.length < 20) return undefined;
      return lastPage.length + 1;
    },
  });

  return {
    workflows: data?.pages.flat() ?? [],
    isLoading,
    isFetching,
    hasMore,
    fetchNextPage,
  };
};
```

#### 3. è™šæ‹ŸåŒ–é•¿åˆ—è¡¨
```typescript
// ä½¿ç”¨ react-window è™šæ‹ŸåŒ–é•¿åˆ—è¡¨
import { FixedSizeList as List } from 'react-window';

const WorkflowNodeList = ({ nodes }: { nodes: WorkflowNode[] }) => {
  const Row = ({ index, style }: { index: number; style: React.CSSProperties }) => (
    <div style={style}>
      <WorkflowNode data={nodes[index]} />
    </div>
  );

  return (
    <List
      height={600}
      itemCount={nodes.length}
      itemSize={80}
      itemData={nodes}
    >
      {Row}
    </List>
  );
};
```

### å†…å­˜ä¼˜åŒ–

#### 1. ç»„ä»¶å¸è½½æ¸…ç†
```typescript
const WebSocketComponent = () => {
  const wsRef = useRef<WebSocket | null>(null);

  useEffect(() => {
    wsRef.current = new WebSocket('ws://localhost:3001');

    return () => {
      // æ¸…ç† WebSocket è¿æ¥
      if (wsRef.current) {
        wsRef.current.close();
        wsRef.current = null;
      }
    };
  }, []);
};
```

#### 2. å¤§å¯¹è±¡å¤„ç†
```typescript
// ä½¿ç”¨ WeakMap é¿å…å†…å­˜æ³„æ¼
const memoCache = new WeakMap<object, any>();

export const memoize = <T extends (...args: any[]) => any>(
  fn: T,
  getKey?: (...args: Parameters<T>) => string
) => {
  return (...args: Parameters<T>) => {
    const key = getKey ? getKey(...args) : JSON.stringify(args);
    const cacheKey = { key, args } as object;

    if (memoCache.has(cacheKey)) {
      return memoCache.get(cacheKey);
    }

    const result = fn(...args);
    memoCache.set(cacheKey, result);
    return result;
  };
};
```

### æ€§èƒ½ç›‘æ§

#### 1. æ€§èƒ½æŒ‡æ ‡æ”¶é›†
```typescript
// æ€§èƒ½ç›‘æ§ Hook
export const usePerformanceMonitor = () => {
  const [metrics, setMetrics] = useState({
    renderTime: 0,
    memoryUsage: 0,
    componentCount: 0,
  });

  const measureRender = useCallback(() => {
    const startTime = performance.now();

    return () => {
      const endTime = performance.now();
      const renderTime = endTime - startTime;

      setMetrics(prev => ({
        ...prev,
        renderTime,
      }));
    };
  }, []);

  const measureMemory = useCallback(() => {
    if ('memory' in performance) {
      const memory = (performance as any).memory;
      setMetrics(prev => ({
        ...prev,
        memoryUsage: memory.usedJSHeapSize / 1024 / 1024, // MB
      }));
    }
  }, []);

  return {
    metrics,
    measureRender,
    measureMemory,
  };
};
```

#### 2. æ€§èƒ½å‘Šè­¦
```typescript
// æ€§èƒ½å‘Šè­¦ Hook
export const usePerformanceAlert = (thresholds: {
  renderTime: number;
  memoryUsage: number;
}) => {
  const metrics = usePerformanceMonitor();
  const [alerts, setAlerts] = useState<string[]>([]);

  useEffect(() => {
    const newAlerts: string[] = [];

    if (metrics.renderTime > thresholds.renderTime) {
      newAlerts.push(
        `æ¸²æŸ“æ—¶é—´è¿‡é•¿: ${metrics.renderTime.toFixed(2)}ms`
      );
    }

    if (metrics.memoryUsage > thresholds.memoryUsage) {
      newAlerts.push(
        `å†…å­˜ä½¿ç”¨è¿‡é«˜: ${metrics.memoryUsage.toFixed(2)}MB`
      );
    }

    setAlerts(newAlerts);
  }, [metrics, thresholds]);

  return alerts;
};
```

## éƒ¨ç½²æŒ‡å—

### æ„å»ºé…ç½®

#### Vite é…ç½®
```typescript
// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import { resolve } from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
    },
  },
  build: {
    outDir: 'dist',
    sourcemap: true,
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          antd: ['antd'],
          reactFlow: ['@xyflow/react'],
        },
      },
    },
    chunkSizeWarningLimit: 1000,
  },
  server: {
    port: 3000,
    host: true,
  },
});
```

#### ç¯å¢ƒå˜é‡é…ç½®
```typescript
// vite-env.d.ts
interface ImportMetaEnv {
  readonly VITE_APP_API_URL: string;
  readonly VITE_APP_WS_URL: string;
  readonly VITE_APP_ENV: string;
  readonly VITE_APP_VERSION: string;
}

export interface ImportMeta {
  readonly env: ImportMetaEnv;
}
```

### Docker éƒ¨ç½²

#### Dockerfile
```dockerfile
# å¤šé˜¶æ®µæ„å»º
FROM node:22-alpine AS builder

WORKDIR /app

# å¤åˆ¶ package æ–‡ä»¶
COPY package*.json ./
COPY pnpm-lock.yaml ./

# å®‰è£…ä¾èµ–
RUN npm install -g pnpm
RUN pnpm install --frozen-lockfile

# å¤åˆ¶æºä»£ç 
COPY . .

# æ„å»ºåº”ç”¨
RUN pnpm build

# ç”Ÿäº§é•œåƒ
FROM nginx:alpine

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=builder /app/dist /usr/share/nginx/html

# å¤åˆ¶é…ç½®æ–‡ä»¶
COPY nginx.conf /etc/nginx/nginx.conf

# è®¾ç½®æƒé™
RUN chown -R nginx:nginx /usr/share/nginx/html && \
    chmod -R 755 /usr/share/nginx/html

# æš´éœ²ç«¯å£
EXPOSE 80

# å¯åŠ¨ nginx
CMD ["nginx", "-g", "daemon off;"]
```

#### Nginx é…ç½®
```nginx
# nginx.conf
events {
    worker_connections 1024;
}

http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    # Gzip å‹ç¼©
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types
        text/plain
        text/css
        text/xml
        text/javascript
        application/javascript
        application/xml+rss
        application/json;

    server {
        listen 80;
        server_name localhost;
        root /usr/share/nginx/html;
        index index.html;

        # é™æ€èµ„æºç¼“å­˜
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
        }

        # è·¯ç”±é…ç½®
        location / {
            try_files $uri $uri/ /index.html;
        }

        # API ä»£ç†
        location /api/ {
            proxy_pass http://backend:3001;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }
    }
}
```

#### Docker Compose
```yaml
# docker-compose.yml
version: '3.8'

services:
  frontend:
    build: .
    ports:
      - "80:80"
    environment:
      - NODE_ENV=production
    restart: unless-stopped

  backend:
    image: hetumind/backend:latest
    ports:
      - "3001:3001"
    environment:
      - DATABASE_URL=postgresql://user:password@db:5432/hetumind
    depends_on:
      - db
    restart: unless-stopped

  db:
    image: postgres:15
    environment:
      - POSTGRES_DB=hetumind
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data
    restart: unless-stopped
```

### CI/CD é…ç½®

#### GitHub Actions
```yaml
# .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '22'
          cache: 'pnpm'

      - name: Install dependencies
        run: pnpm install --frozen-lockfile

      - name: Run tests
        run: pnpm test:ci

      - name: Run type check
        run: pnpm type-check

      - name: Run linting
        run: pnpm lint

      - name: Upload coverage reports
        uses: codecov/codecov-action@v3
        with:
          file: ./coverage/lcov.info

  build:
    needs: test
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '22'
          cache: 'pnpm'

      - name: Install dependencies
        run: pnpm install --frozen-lockfile

      - name: Build application
        run: pnpm build

      - name: Build Docker image
        run: |
          docker build -t hetumind/web:${{ github.sha }} .
          docker tag hetumind/web:latest .

      - name: Push to registry
        run: |
          echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin
          docker push hetumind/web:${{ github.sha }}
          docker push hetumind/web:latest

  deploy:
    needs: build
    runs-on: ubuntu-latest
    environment: production

    steps:
      - name: Deploy to production
        run: |
          # éƒ¨ç½²è„šæœ¬
          echo "Deploying to production..."
```

## è´¡çŒ®æµç¨‹

### å¼€å‘æµç¨‹

#### 1. Fork é¡¹ç›®
```bash
# Fork é¡¹ç›®åˆ°ä¸ªäººä»“åº“
git clone https://github.com/your-username/hetumind.git
cd hetumind
git remote add upstream https://github.com/fusion-data/hetumind.git
```

#### 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
```bash
# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°åŠŸèƒ½åˆ†æ”¯
git checkout -b feature/amazing-feature

# æ¨é€åˆ°ä¸ªäººä»“åº“
git push origin feature/amazing-feature
```

#### 3. å¼€å‘å’Œæµ‹è¯•
```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# è¿è¡Œæµ‹è¯•
pnpm test

# ç±»å‹æ£€æŸ¥
pnpm type-check

# ä»£ç æ ¼å¼åŒ–
pnpm lint:fix
```

#### 4. æäº¤æ›´æ”¹
```bash
# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# æäº¤æ›´æ”¹
git commit -m "feat: add amazing feature"

# æ¨é€åˆ°ä¸ªäººä»“åº“
git push origin feature/amazing-feature
```

#### 5. åˆ›å»º Pull Request
- åœ¨ GitHub ä¸Šåˆ›å»º Pull Request
- å¡«å†™æ¸…æ™°çš„ PR æè¿°
- ç­‰å¾…ä»£ç å®¡æŸ¥
- æ ¹æ®åé¦ˆè¿›è¡Œä¿®æ”¹

### ä»£ç å®¡æŸ¥

#### å®¡æŸ¥æ¸…å•
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [ ] ç±»å‹æ£€æŸ¥é€šè¿‡
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡
- [ ] æ€§èƒ½å½±å“å¯æ¥å—
- [ ] æ–‡æ¡£å·²æ›´æ–°

#### å®¡æŸ¥è¦ç‚¹
- **ä»£ç è´¨é‡**: å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§
- **åŠŸèƒ½æ­£ç¡®æ€§**: å®ç°ç¬¦åˆéœ€æ±‚
- **æ€§èƒ½å½±å“**: æ˜¯å¦å­˜åœ¨æ€§èƒ½é—®é¢˜
- **å®‰å…¨æ€§**: æ˜¯å¦å­˜åœ¨å®‰å…¨æ¼æ´
- **æµ‹è¯•è¦†ç›–**: æ˜¯å¦æœ‰å……åˆ†çš„æµ‹è¯•

### å‘å¸ƒæµç¨‹

#### 1. åˆå¹¶åˆ°ä¸»åˆ†æ”¯
- æ‰€æœ‰ CI æ£€æŸ¥é€šè¿‡
- ä»£ç å®¡æŸ¥å®Œæˆ
- å†²çªå·²è§£å†³

#### 2. è‡ªåŠ¨éƒ¨ç½²
- è‡ªåŠ¨è§¦å‘æ„å»ºå’Œéƒ¨ç½²
- éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒè¿›è¡ŒéªŒè¯
- éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

#### 3. ç‰ˆæœ¬å‘å¸ƒ
- åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
- ç”Ÿæˆå‘å¸ƒè¯´æ˜
- æ›´æ–°æ–‡æ¡£

### ç‰ˆæœ¬ç®¡ç†

#### è¯­ä¹‰åŒ–ç‰ˆæœ¬
```
ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·

ä¾‹å¦‚: 1.2.3

- ä¸»ç‰ˆæœ¬å·: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- æ¬¡ç‰ˆæœ¬å·: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- ä¿®è®¢å·: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£
```

#### å‘å¸ƒæµç¨‹
```bash
# åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
git tag -a v1.2.3 -m "Release version 1.2.3"

# æ¨é€æ ‡ç­¾
git push origin v1.2.3

# åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git checkout -b release/v1.2.3

# æ›´æ–°ç‰ˆæœ¬å·
npm version 1.2.3

# æäº¤ç‰ˆæœ¬æ›´æ–°
git commit -m "chore(release): bump version to 1.2.3"

# æ¨é€ç‰ˆæœ¬åˆ†æ”¯
git push origin release/v1.2.3

# åˆ›å»º Pull Request åˆå¹¶åˆ°ä¸»åˆ†æ”¯
```

---

é€šè¿‡éµå¾ªè¿™äº›å¼€å‘æŒ‡å—å’Œæœ€ä½³å®è·µï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªé«˜è´¨é‡ã€å¯ç»´æŠ¤çš„ Hetumind Web å¹³å°ã€‚

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚