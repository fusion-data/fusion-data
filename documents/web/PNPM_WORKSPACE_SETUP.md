# pnpm Workspaces åˆå§‹åŒ–å®Œæˆ

## ğŸ“ åˆå§‹åŒ–å†…å®¹æ¦‚è§ˆ

æˆ‘å·²ç»æˆåŠŸä¸ºæ‚¨çš„ Fusion Data é¡¹ç›®åˆå§‹åŒ–äº† pnpm workspacesã€‚è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ monorepo è®¾ç½®ï¼ŒåŒ…å«äº†ä»¥ä¸‹ä¸»è¦ç»„ä»¶ï¼š

### ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
fusion-data/
â”œâ”€â”€ package.json                 # æ ¹é¡¹ç›®é…ç½®æ–‡ä»¶
â”œâ”€â”€ pnpm-workspace.yaml         # pnpm workspace é…ç½®
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ packages/                    # å¯å¤ç”¨åŒ…ç›®å½•
â”‚   â”œâ”€â”€ README.md               # åŒ…ç›®å½•è¯´æ˜
â”‚   â””â”€â”€ fusion-core/           # ç¤ºä¾‹å…±äº«å·¥å…·åŒ…
â”‚       â”œâ”€â”€ package.json        # åŒ…é…ç½®
â”‚       â”œâ”€â”€ tsconfig.json       # TypeScript é…ç½®
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â””â”€â”€ index.ts        # å·¥å…·å‡½æ•°æºç 
â”‚       â””â”€â”€ dist/               # ç¼–è¯‘è¾“å‡º
â”‚           â”œâ”€â”€ index.js
â”‚           â”œâ”€â”€ index.d.ts
â”‚           â””â”€â”€ ...
â””â”€â”€ apps/                       # åº”ç”¨ç¨‹åºç›®å½•
    â”œâ”€â”€ README.md               # åº”ç”¨ç›®å½•è¯´æ˜
    â””â”€â”€ demo-app/               # React ç¤ºä¾‹åº”ç”¨
        â”œâ”€â”€ package.json        # åº”ç”¨é…ç½®
        â”œâ”€â”€ tsconfig.json       # TypeScript é…ç½®
        â”œâ”€â”€ vite.config.ts      # Vite æ„å»ºé…ç½®
        â”œâ”€â”€ eslint.config.js    # ESLint é…ç½®
        â”œâ”€â”€ index.html          # HTML å…¥å£
        â”œâ”€â”€ src/
        â”‚   â”œâ”€â”€ main.tsx        # React åº”ç”¨å…¥å£
        â”‚   â”œâ”€â”€ App.tsx         # ä¸»åº”ç”¨ç»„ä»¶
        â”‚   â””â”€â”€ index.css       # æ ·å¼æ–‡ä»¶
        â””â”€â”€ README.md           # åº”ç”¨è¯´æ˜
```

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

#### æ ¹é¡¹ç›®

- **åŒ…ç®¡ç†å™¨**: pnpm 8.15.0
- **å·¥ä½œåŒºç®¡ç†**: pnpm workspaces
- **æ„å»ºå·¥å…·**: TypeScript 5.9.2

#### ç¤ºä¾‹åŒ… (`@fusion-data/fusion-core`)

- **è¯­è¨€**: TypeScript
- **æ¨¡å—ç³»ç»Ÿ**: CommonJS
- **åŠŸèƒ½**: æä¾›å…±äº«å·¥å…·å‡½æ•°ï¼ˆæ—¥æœŸæ ¼å¼åŒ–ã€å»¶è¿Ÿæ‰§è¡Œã€ID ç”Ÿæˆç­‰ï¼‰

#### ç¤ºä¾‹åº”ç”¨ (`@fusion-data/demo-app`)

- **å‰ç«¯æ¡†æ¶**: React 19.0.0
- **UI åº“**: Ant Design v5.22.4 (å®Œå…¨å…¼å®¹ React 19)
- **å›¾æ ‡åº“**: @ant-design/icons v5.5.1
- **æ„å»ºå·¥å…·**: Vite 6.0.0
- **è¯­è¨€**: TypeScript 5.6.0
- **ä»£ç æ£€æŸ¥**: ESLint 9.15.0
- **å¼€å‘æœåŠ¡å™¨**: å·²å¯åŠ¨åœ¨ http://localhost:3000

### ğŸš€ å¯ç”¨å‘½ä»¤

#### æ ¹é¡¹ç›®çº§åˆ«

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install

# å¹¶è¡Œè¿è¡Œæ‰€æœ‰åº”ç”¨çš„å¼€å‘æœåŠ¡å™¨
pnpm dev

# é€’å½’æ„å»ºæ‰€æœ‰åŒ…å’Œåº”ç”¨
pnpm build

# é€’å½’è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm test

# é€’å½’è¿è¡Œä»£ç æ£€æŸ¥
pnpm lint

# æ¸…ç†æ‰€æœ‰æ„å»ºè¾“å‡º
pnpm clean
```

#### å•ä¸ªåŒ…/åº”ç”¨çº§åˆ«

```bash
# è¿è¡Œç‰¹å®šåŒ…çš„å‘½ä»¤
pnpm --filter @fusion-data/fusion-core build
pnpm --filter @fusion-data/demo-app dev

# æˆ–è€…ç›´æ¥åœ¨åŒ…ç›®å½•ä¸­
cd packages/fusion-core && pnpm build
cd apps/demo-app && pnpm dev
```

### ğŸ“¦ Workspace ä¾èµ–

demo-app å·²ç»é…ç½®ä¸ºä½¿ç”¨ fusion-core åŒ…ï¼š

- åœ¨ `apps/demo-app/package.json` ä¸­ä½¿ç”¨ `"@fusion-data/fusion-core": "workspace:*"`
- åœ¨ `App.tsx` ä¸­å¯¼å…¥å¹¶ä½¿ç”¨å·¥å…·å‡½æ•°ï¼š`import { formatDate, generateId } from '@fusion-data/fusion-core'`

### âœ¨ ç‰¹æ€§äº®ç‚¹

1. **å®Œæ•´çš„ React 19 æ”¯æŒ**ï¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ Reactï¼Œé…åˆ Ant Design v5 å®Œç¾å…¼å®¹
2. **ç±»å‹å®‰å…¨**ï¼šå…¨é¢çš„ TypeScript æ”¯æŒï¼ŒåŒ…æ‹¬å…±äº«åŒ…çš„ç±»å‹å£°æ˜
3. **ç°ä»£åŒ–æ„å»º**ï¼šä½¿ç”¨ Vite æä¾›å¿«é€Ÿçš„å¼€å‘ä½“éªŒå’Œä¼˜åŒ–çš„ç”Ÿäº§æ„å»º
4. **ä»£ç è´¨é‡**ï¼šé›†æˆ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
5. **å·¥ä½œåŒºé›†æˆ**ï¼šæ¼”ç¤ºäº†å¦‚ä½•åœ¨ monorepo ä¸­å…±äº«ä»£ç åŒ…
6. **å¼€å‘å‹å¥½**ï¼šçƒ­é‡è½½ã€æºæ˜ å°„ã€å®Œæ•´çš„å¼€å‘å·¥å…·æ”¯æŒ

### ğŸŒ ç°åœ¨å¯ä»¥åšä»€ä¹ˆ

1. **æŸ¥çœ‹æ¼”ç¤ºåº”ç”¨**ï¼šç‚¹å‡»é¢„è§ˆæµè§ˆå™¨æŒ‰é’®æŸ¥çœ‹è¿è¡Œä¸­çš„ React åº”ç”¨
2. **æ·»åŠ æ–°åŒ…**ï¼šåœ¨ `packages/` ç›®å½•ä¸­åˆ›å»ºæ–°çš„å¯å¤ç”¨åº“
3. **æ·»åŠ æ–°åº”ç”¨**ï¼šåœ¨ `apps/` ç›®å½•ä¸­åˆ›å»ºæ–°çš„åº”ç”¨ç¨‹åº
4. **æ‰©å±•åŠŸèƒ½**ï¼šåŸºäºç°æœ‰ç»“æ„æ·»åŠ æ›´å¤šåŠŸèƒ½å’Œç»„ä»¶

### ğŸ”— ç›¸å…³èµ„æº

- [Ant Design v5 React 19 å…¼å®¹æ€§è¯´æ˜](https://ant.design/docs/react/v5-for-19-cn)
- [pnpm Workspaces æ–‡æ¡£](https://pnpm.io/workspaces)
- [Vite é…ç½®æ–‡æ¡£](https://vitejs.dev/config/)

---

é¡¹ç›®å·²ç»æˆåŠŸåˆå§‹åŒ–å¹¶è¿è¡Œï¼æ‚¨ç°åœ¨å¯ä»¥ç‚¹å‡»é¢„è§ˆæµè§ˆå™¨æŒ‰é’®æŸ¥çœ‹æ¼”ç¤ºåº”ç”¨çš„æ•ˆæœã€‚ğŸ‰
